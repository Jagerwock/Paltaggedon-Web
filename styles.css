:root{
  --ink:#80494C;
  --gold:#E9BF60;
  --avocado:#B7C48B;
  --cream:#F8EDCB;

  --paper:
    radial-gradient(circle at 20% 20%, rgba(233,191,96,.08), transparent 25%),
    radial-gradient(circle at 80% 10%, rgba(128,73,76,.06), transparent 26%),
    radial-gradient(circle at 30% 80%, rgba(183,196,139,.07), transparent 28%),
    linear-gradient(135deg, rgba(0,0,0,.05), rgba(255,255,255,.03));
}

*{box-sizing:border-box;margin:0;padding:0}
html:focus-within{scroll-behavior:smooth}
body{
  font-family:'Poppins',system-ui,sans-serif;
  background:var(--cream);
  color:var(--ink);
  min-height:100vh;
  overflow-x:hidden;
  background-image:var(--paper);
  background-size:120% 120%;
  animation:paperDrift 18s ease-in-out infinite alternate;
}
@media (prefers-reduced-motion:reduce){
  html:focus-within{scroll-behavior:auto}
  body{animation:none}
}
h1,h2,h3,h4{font-family:'Croissant One',cursive;letter-spacing:.5px}
a{color:inherit;text-decoration:none}
img{max-width:100%;height:auto;display:block}

.skip-link{
  position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden
}
.skip-link:focus{
  position:fixed;left:12px;top:12px;width:auto;height:auto;z-index:9999;
  background:var(--gold);color:var(--ink);padding:8px 12px;border-radius:8px
}

.site-header{
  position:sticky;top:0;z-index:40;
  background:rgba(248,237,203,.62);backdrop-filter:blur(8px);
  border-bottom:2px solid rgba(128,73,76,.12);
  transition:box-shadow .25s ease, transform .25s ease;
}
.site-header[data-scrolled="true"]{box-shadow:0 6px 24px rgba(128,73,76,.18)}

.nav{max-width:1200px;margin:0 auto;padding:14px 24px;display:flex;align-items:center;gap:16px}
.brand{font-weight:800;display:inline-grid;align-items:center}
.brand .brand-word{
  font-size:clamp(1.6rem,3.4vw,2.2rem);text-shadow:2px 2px 0 var(--gold), -2px -2px 0 rgba(128,73,76,.35);
  animation:squash 1.1s ease-out .3s both, bounce 2.4s ease-in-out 1.2s infinite;
}
.menu{display:flex;gap:18px;list-style:none;margin-left:auto;margin-right:12px}
.menu a{font-weight:700;text-transform:uppercase;letter-spacing:.6px;font-size:.9rem;position:relative}
.menu a::after{
  content:'';position:absolute;left:0;bottom:-6px;width:0;height:3px;background:linear-gradient(90deg,var(--gold),transparent);border-radius:4px;transition:width .25s ease
}
.menu a:focus-visible,
.menu a:hover{outline:none}
.menu a:hover::after,.menu a:focus-visible::after{width:100%}

.nav-toggle{
  display:none;appearance:none;background:transparent;border:0;cursor:pointer;margin-right:6px
}
.nav-toggle-bar{width:26px;height:3px;background:var(--ink);display:block;box-shadow:0 8px 0 var(--ink),0 -8px 0 var(--ink)}
@media (max-width:960px){
  .nav-toggle{display:block}
  .menu{position:fixed;inset:auto 0 0 0;top:64px;background:rgba(248,237,203,.96);backdrop-filter:blur(10px);padding:18px 22px;flex-direction:column;transform:translateY(-12px) scale(.98);opacity:0;pointer-events:none;transition:.2s ease;z-index:30}
  .menu[data-open="true"]{transform:translateY(0) scale(1);opacity:1;pointer-events:auto}
}

.btn{
  padding:12px 18px;border:2px solid var(--ink);border-radius:12px;background:var(--gold);color:var(--ink);
  box-shadow:0 8px 0 rgba(128,73,76,.15);font-weight:800;text-transform:uppercase;letter-spacing:.6px;
  transition:transform .2s ease, box-shadow .2s ease, filter .25s ease
}
.btn:hover{transform:translateY(-3px) scale(1.03);box-shadow:0 14px 0 rgba(128,73,76,.22);filter:brightness(1.05)}
.btn:active{transform:none;box-shadow:0 6px 0 rgba(128,73,76,.18)}
.btn-cta{white-space:nowrap}
.btn-avocado{background:var(--avocado)}

.badge{
  display:inline-flex;align-items:center;gap:8px;background:rgba(128,73,76,.12);
  padding:10px 14px;border-radius:50px;border:1px dashed rgba(128,73,76,.28);font-weight:700;color:var(--ink);margin-top:12px
}
.logo{font-size:clamp(2.6rem,5vw,4rem)}
.hero-tagline{margin-top:14px;max-width:560px;line-height:1.65}
.cta-row{display:flex;gap:12px;margin-top:22px;flex-wrap:wrap}

.film-grain{
  position:fixed;inset:0;pointer-events:none;z-index:2;opacity:.25;mix-blend-mode:multiply;
  background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><filter id="n" x="0" y="0"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="120" height="120" filter="url(%23n)" opacity="0.42"/></svg>');
  animation:grain 1.8s steps(2) infinite
}

.hero-art{position:relative;min-height:320px;perspective:1000px}
.floating-orbs{position:absolute;inset:0;pointer-events:none;z-index:-1}
.orb{position:absolute;border-radius:50%;filter:blur(18px);opacity:.55;animation:floaty 9s ease-in-out infinite alternate}
.orb.one{width:180px;height:180px;background:rgba(183,196,139,.35);top:10%;left:8%}
.orb.two{width:220px;height:220px;background:rgba(233,191,96,.28);top:40%;right:-8%}
.orb.three{width:140px;height:140px;background:rgba(128,73,76,.25);bottom:-4%;left:30%}

.card{
  background:rgba(255,255,255,.5);border:2px solid rgba(128,73,76,.16);border-radius:18px;padding:22px;
  box-shadow:0 16px 40px rgba(128,73,76,.10);transition:transform .35s ease, box-shadow .35s ease
}
.card:hover{transform:translateY(-6px) rotate(-1deg);box-shadow:0 22px 40px rgba(128,73,76,.18)}
.hero-card{display:grid;place-items:center;text-align:center;background:linear-gradient(135deg,rgba(248,237,203,.88),rgba(183,196,139,.16))}
.hero-sprite{width:260px;animation:swing 3.2s ease-in-out infinite}

.section{max-width:1200px;margin:0 auto;padding:100px 24px;position:relative;text-align:center}
.section h2{font-size:clamp(2rem,4vw,2.7rem);margin-bottom:14px;position:relative;display:inline-flex;gap:10px;justify-content:center}
.section h2::after{
  content:'';position:absolute;left:0;bottom:-10px;height:6px;width:88px;background:linear-gradient(90deg,var(--gold),transparent);border-radius:10px
}
.section p{max-width:720px;line-height:1.7;margin-left:auto;margin-right:auto}

.about-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;margin-top:24px}
.about-grid .card{text-align:left;background:linear-gradient(165deg, rgba(248,237,203,.82), rgba(233,191,96,.12));}

.enemy-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px;margin-top:28px;justify-items:center}
.enemy-card{
  display:block;text-align:center;background:linear-gradient(145deg,rgba(248,237,203,.9),rgba(183,196,139,.18));
  border:2px solid rgba(128,73,76,.14);border-radius:16px;padding:18px;cursor:pointer;transition:transform .25s ease, box-shadow .25s ease;
  animation:fadeUp .8s ease both
}
.enemy-card:focus-visible{outline:3px solid var(--gold);outline-offset:4px}
.enemy-card:hover{transform:translateY(-6px) rotate(.8deg);box-shadow:0 16px 28px rgba(128,73,76,.18)}
.enemy-card img{width:100%;height:160px;object-fit:contain;filter:drop-shadow(0 6px 10px rgba(0,0,0,.2));animation:jiggle 2.8s ease-in-out infinite}
.enemy-card:hover img{animation:jiggle-fast .8s ease-in-out infinite}

.tag{
  display:inline-flex;align-items:center;gap:6px;background:rgba(128,73,76,.14);color:var(--ink);
  padding:6px 12px;border-radius:40px;font-weight:800;text-transform:uppercase;font-size:.75rem;letter-spacing:.5px
}

.features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px;margin-top:22px}
.feature{display:flex;gap:12px;align-items:flex-start;padding:16px;border-radius:14px;background:rgba(128,73,76,.06);border:1px solid rgba(128,73,76,.12)}
.feature-icon{font-size:1.8rem;background:var(--gold);color:var(--ink);width:50px;height:50px;border-radius:50%;display:grid;place-items:center;box-shadow:inset 0 -4px 0 rgba(0,0,0,.12)}

.hero-shell::after{
  content:""; position:absolute; inset:-18px; border-radius:28px; pointer-events:none;
  background:conic-gradient(from 20deg, rgba(128,73,76,.12), transparent 30%, rgba(233,191,96,.16));
  animation:spinOrnament 18s linear infinite;
  z-index:-1;
}

.codex-card,.enemy-card,.card{position:relative;overflow:hidden}
.codex-card::after,.enemy-card::after,.card::after{
  content:""; position:absolute; inset:0; background:radial-gradient(circle at 20% 20%, rgba(255,255,255,.12), transparent 40%);
  opacity:0; transition:opacity .35s ease;
}
.codex-card:hover::after,.enemy-card:hover::after,.card:hover::after{opacity:1}

.community-links{display:flex;gap:14px;flex-wrap:wrap;margin-top:18px}
.link-pill{padding:12px 18px;background:rgba(128,73,76,.9);color:var(--cream);border-radius:50px;display:inline-flex;gap:8px;transition:transform .2s ease, box-shadow .2s ease}
.link-pill:hover{transform:translateY(-3px);box-shadow:0 10px 18px rgba(128,73,76,.28)}

.site-footer{text-align:center;padding:32px;background:rgba(128,73,76,.92);color:var(--cream);margin-top:60px;letter-spacing:.4px}

.modal-backdrop{
  position:fixed;inset:0;background:rgba(0,0,0,.58);display:grid;place-items:center;z-index:60;backdrop-filter:blur(4px);
  opacity:0;pointer-events:none;transition:opacity .25s ease
}
.modal-backdrop.active{opacity:1;pointer-events:auto}
.modal{
  background:var(--cream);border:3px solid var(--ink);border-radius:18px;max-width:640px;width:92%;padding:26px;position:relative;
  box-shadow:0 18px 40px rgba(0,0,0,.25);animation:popIn .35s ease
}
.modal-wide{max-width:960px}
.modal-close{
  position:absolute;top:12px;right:12px;width:38px;height:38px;border-radius:50%;border:2px solid var(--ink);background:var(--gold);
  font-weight:900;cursor:pointer;transition:transform .2s ease
}
.modal-close:hover{transform:scale(1.05)}
.modal img{width:200px;object-fit:contain;margin:12px auto;filter:drop-shadow(0 8px 14px rgba(0,0,0,.2))}
.modal-ability{font-weight:800;text-align:center;color:var(--ink);margin-top:8px}

.video-wrap{position:relative;aspect-ratio:16/9;border-radius:16px;overflow:hidden;border:2px solid rgba(128,73,76,.2);background:#000;margin-top:12px}
.video-wrap iframe{width:100%;height:100%;display:block}

@keyframes grain{0%{transform:translate(0,0)}25%{transform:translate(-10px,6px)}50%{transform:translate(10px,-6px)}75%{transform:translate(-6px,-2px)}100%{transform:translate(8px,4px)}}
@keyframes paperDrift{from{background-position:0 0}to{background-position:6% 10%}}
@keyframes squash{0%{transform:scale(.4,1.6);opacity:0}60%{transform:scale(1.08,.92);opacity:1}100%{transform:scale(1,1)}}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
@keyframes floaty{from{transform:translateY(0)}to{transform:translateY(-24px)}}
@keyframes jiggle{0%,100%{transform:rotate(0) translateY(0)}25%{transform:rotate(-2deg) translateY(-4px)}50%{transform:rotate(2deg) translateY(4px)}75%{transform:rotate(-1deg) translateY(-3px)}}
@keyframes jiggle-fast{0%,100%{transform:rotate(0) translateY(0)}25%{transform:rotate(-4deg) translateY(-6px)}50%{transform:rotate(4deg) translateY(6px)}75%{transform:rotate(-2deg) translateY(-4px)}}
@keyframes fadeUp{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}
@keyframes popIn{from{opacity:0;transform:scale(.94) rotate(-1deg)}to{opacity:1;transform:scale(1) rotate(0)}}
@keyframes spinOrnament{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}

.reveal{opacity:0;transform:translateY(20px)}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}

.codex-modal{position:relative;display:grid;gap:16px}
.codex-header{display:flex;align-items:flex-start;justify-content:space-between;gap:16px;margin-bottom:6px}
.codex-common{font-size:1.6rem;margin:0}
.codex-scientific{opacity:.85}

.codex-variant-switch{display:flex;gap:8px}
.variant-btn{
  padding:8px 12px;border:2px solid var(--ink);background:var(--gold);border-radius:999px;font-weight:800;cursor:pointer
}
.variant-btn[aria-selected="true"]{background:var(--avocado)}

.codex-body{display:grid;grid-template-columns:1fr 320px;gap:18px}
@media (max-width:800px){.codex-body{grid-template-columns:1fr}}

.codex-info .codex-section{margin-top:12px}
.codex-traits{display:grid;gap:6px;margin-top:6px}
.codex-traits li{
  background:rgba(128,73,76,.06);border:1px solid rgba(128,73,76,.12);
  border-radius:10px;padding:8px 10px
}

.codex-figure{display:grid;gap:8px;justify-items:center}
.codex-figure img{
  width:260px;max-width:100%;object-fit:contain;filter:drop-shadow(0 10px 18px rgba(0,0,0,.22));
  animation:swing 3.2s ease-in-out infinite
}
.codex-variant-label{font-weight:800;color:var(--ink)}

.codex-arrow{
  position:absolute;top:50%;transform:translateY(-50%);
  width:42px;height:42px;border-radius:50%;border:2px solid var(--ink);
  background:var(--gold);font-weight:900;cursor:pointer;
  display:grid;place-items:center;box-shadow:0 6px 12px rgba(0,0,0,.15)
}
.codex-prev{left:-20px}
.codex-next{right:-20px}
@media (max-width:640px){.codex-prev{left:6px}.codex-next{right:6px}}

.hero-parallax{
  position:relative; isolation:isolate;
  height:90vh; min-height:620px; overflow:hidden;
  background: radial-gradient(1200px 600px at 20% 0%, rgba(233,191,96,.25), transparent 60%),
              radial-gradient(900px 480px at 90% 20%, rgba(183,196,139,.25), transparent 60%),
              linear-gradient(145deg, rgba(128,73,76,.06), rgba(183,196,139,.08)),
              var(--cream);
  border-bottom:2px solid rgba(128,73,76,.12);
  display:grid; place-items:center;
}

.hero-overlay{
  position:absolute; inset:8%; border-radius:28px;
  background:linear-gradient(135deg, rgba(255,255,255,.22), rgba(255,255,255,.05));
  box-shadow:0 28px 60px rgba(128,73,76,.18);
  border:1px solid rgba(128,73,76,.16);
  backdrop-filter:blur(2px);
  z-index:1;
}

.hero-shell{width: min(1080px, 92vw); z-index:2; display:grid; place-items:center; position:relative}
.p-layer{position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);}
.p-bg{inset:-12%; background:
  radial-gradient(60% 60% at 50% 10%, rgba(128,73,76,.10), transparent 60%),
  radial-gradient(40% 40% at 10% 90%, rgba(233,191,96,.12), transparent 62%),
  radial-gradient(70% 70% at 80% 40%, rgba(183,196,139,.12), transparent 60%);
  filter:contrast(105%) brightness(102%); border-radius:30px; transform:translate(-50%,-50%) scale(1.1);
}
.deco{pointer-events:none; filter:drop-shadow(0 10px 18px rgba(0,0,0,.15))}
.deco-arch{width:min(48vw,720px); transform:translate(-50%,-52%) rotate(-1deg)}
.deco-stars{width:min(36vw,520px); transform:translate(-40%,-20%)}
.prota{width:min(34vw,520px)}
.hero-callout{
  display:grid; gap:12px; text-align:center; color:var(--ink);
  padding:32px 28px;
  background:rgba(255,255,255,.65);
  border:2px solid rgba(128,73,76,.16);
  border-radius:24px;
  box-shadow:0 20px 40px rgba(128,73,76,.18);
}

.hero-line{
  font-family:'Croissant One', cursive;
  font-size:clamp(1.8rem,4.2vw,2.8rem);
  text-shadow:2px 2px 0 var(--gold), -2px -2px 0 rgba(128,73,76,.35);
  animation:squash 1s ease-out .2s both, bounce 2.2s ease-in-out 1s infinite;
}

.hero-ribbons{display:flex; gap:10px; justify-content:center; flex-wrap:wrap; letter-spacing:.8px}
.hero-ribbons span{
  padding:8px 14px; border-radius:999px; border:2px solid rgba(128,73,76,.2);
  background:linear-gradient(135deg, rgba(183,196,139,.24), rgba(233,191,96,.18));
  box-shadow:0 8px 18px rgba(128,73,76,.12); font-weight:800;
}

.sticker-belt{overflow:hidden;border-block:2px dashed rgba(128,73,76,.15);background:rgba(128,73,76,.05)}
.belt-track{display:flex;gap:28px;align-items:center; padding:14px 0; will-change:transform}
.belt-track img{height:64px; width:auto; filter:drop-shadow(0 6px 10px rgba(0,0,0,.15))}
@media (max-width:640px){.belt-track img{height:56px}}

@keyframes beltMove{ from{ transform:translateX(0)} to{ transform:translateX(-50%)} }

.codex-strip{overflow:hidden;padding:30px 0;background:linear-gradient(180deg, transparent, rgba(128,73,76,.06), transparent)}
.codex-track{display:flex;gap:18px; padding:0 24px; will-change:transform}
.codex-card{
  min-width:240px; flex:0 0 auto;
  background:linear-gradient(145deg, rgba(248,237,203,.92), rgba(183,196,139,.18));
  border:2px solid rgba(128,73,76,.15); border-radius:16px; padding:14px;
  text-align:center; box-shadow:0 16px 28px rgba(128,73,76,.12);
  transition:transform .25s ease, box-shadow .25s ease;
}
.codex-card:hover{ transform:translateY(-6px) rotate(.6deg); box-shadow:0 22px 40px rgba(128,73,76,.18)}
.codex-card h3{font-size:1.1rem}
.codex-card p{opacity:.9; font-style:italic}
.btn.small{padding:8px 12px; font-size:.85rem; border-radius:10px}

@media (prefers-reduced-motion: reduce){
  .hero-line{animation:none}
  .belt-track{animation:none}
}